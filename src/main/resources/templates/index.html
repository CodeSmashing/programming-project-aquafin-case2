<!DOCTYPE html>
<html lang="nl" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Case 2 demo</title>

		<link rel="stylesheet" th:href="@{/css/style.css}" />
		<link rel="icon" th:href="@{/images/Logo_Aquafin.png}" />
	</head>

	<body data-page="index">
		<div th:replace="~{layout :: header}"></div>

		<main>
			<h1 th:if="${risk} != 'null'" th:text="YES"></h1>

			<table id="flood-risk-table">
				<caption><h4>Tabel overstromingen</h4></caption>
				<thead>
					<tr id="menu-row">
						<th colspan="5">
							<select
								name="region"
								id="region-select">
								<option
									value="all"
									selected>Alle regio's</option>
								<option
									th:each="region : ${regionList}"
									th:text="${region.regionName}"
									th:value="${region.regionName.toLowerCase()}"></option>
							</select>
							<select name="date" id="date-select">
								<option
									value="all"
									selected>Alle datums</option>
								<option
									class="hidden"
									th:each="floodRisk : ${floodRiskList}"
									th:attr="data-name=${floodRisk.region.regionName.toLowerCase()}"
									th:text="${floodRisk.dateOccurence}"
									th:value="${floodRisk.dateOccurence}">
								</option>
								<option value="all" disabled>Geen data beschikbaar</option>
							</select>
							<button
								type="button"
								id="filter-historic">
								Enkel historisch
							</button>
							<button
								type="button"
								id="filter-forecast">
								Enkel voorspelling
							</button>
							<button
								type="button"
								id="filter-results">
								Enkel resultaten
							</button>
							<!-- <button
								type="button"
								id="graphical-view">
								Grafische weergave
							</button> -->
							<a
								class="button-style"
								href="#add-flood-risk-form"
								id="add-new">
								Voeg manueel toe
							</a>
						</th>
					</tr>

					<tr>
						<th>Regio naam</th>
						<th>Neerslag (*in mm)</th>
						<th>Datum</th>
						<th>Risico niveau</th>
						<th>Type data (Historisch, voorspelling)</th>
					</tr>
				</thead>
				<tbody>
					<tr
						th:each="floodRisk : ${floodRiskList}"
						th:attr="data-flood-id=${floodRisk.floodRiskId}">
						<td
							th:text="${floodRisk.region.regionName}"
							th:attr="data-name=${floodRisk.region.regionName.toLowerCase()}"></td>
						<td
							th:text="${floodRisk.precipitationData.quantityInMm}"
							th:attr="data-precipitation=${floodRisk.precipitationData.quantityInMm}"></td>
						<td
							th:text="${floodRisk.dateOccurence}"
							th:attr="data-date=${floodRisk.dateOccurence}"></td>
						<td
							th:text="${floodRisk.riskLevel}"
							th:attr="data-riskLevel=${floodRisk.riskLevel}"></td>
						<td
							th:text="${floodRisk.precipitationData.dataType}"
							th:attr="data-type=${floodRisk.precipitationData.dataType}"></td>
					</tr>
					<tr
						class="hidden table-end table-end-unavailable">
						<td
							colspan="5">
							<p>Geen data beschikbaar, verander toegepaste filters</p>
						</td>
					</tr>
					<tr
						class="hidden table-end table-end-hidden">
						<td
							colspan="5">
							<button>Onthul verborgen items</button>
						</td>
					</tr>
				</tbody>
			</table>

			<form
				id="add-flood-risk-form"
				th:action="@{/save/floodRisk}"
				th:object="${floodRisk}"
				method="post">
				<table>
					<tr>
						<td><label th:text="#{floodRisk.region}" /></td>
						<td><select
								th:field="*{region}"
								placeholder="Regio">
								<option
									th:each="region : ${regionList}"
									th:text="${region.regionName}"
									th:value="${region.regionName.toLowerCase()}">
									Regio
								</option>
							</select>
						</td>
					</tr>
					<tr>
						<td><label th:text="#{floodRisk.precipitationData}" /></td>
						<td><input
								type="number"
								th:field="*{precipitationData}"
								placeholder="Neerslag (id)" /></td>
					</tr>
					<tr>
						<td><label th:text="#{floodRisk.dateOccurence}" /></td>
						<td><input
								type="date"
								th:field="*{dateOccurence}" /></td>
					</tr>
					<tr>
						<td><label th:text="#{floodRisk.riskLevel}" /></td>
						<td><input
								type="number"
								th:field="*{riskLevel}"
								placeholder="Risico niveau" /></td>
					</tr>
					<tr>
						<td><input type="submit" value="Submit" /></td>
					</tr>
				</table>
			</form>
		</main>

		<div th:replace="~{layout :: footer}"></div>
		<script type="text/javascript" th:src="@{/js/init.js}"></script>
	</body>
</html>
